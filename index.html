<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>LE VI STORE - Thời Trang Nữ</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/form.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <header class="main-header">
        <div class="container">
            <h1 class="logo">LE VI STORE</h1>
            <nav class="main-nav">
                <a href="index.html">Trang chủ</a>
                <a href="contact.html">Liên hệ</a>
                <a href="login.html">Đăng nhập</a>
                <a href="register.html">Đăng ký</a>
                <a href="cart.html">Giỏ hàng</a>
                <a href="profile.html">Tài khoản</a>
            </nav>
        </div>
    </header>

    <div class="full-banner">
        <img src="images/banner.jpg" alt="Banner">
    </div>

    <section class="category-menu">
        <a href="dresses.html" class="category-item">
            <img src="images/icon-dam.png" alt="ĐẦM">
            <p>ĐẦM</p>
        </a>
        <a href="shirts.html" class="category-item">
            <img src="images/icon-ao.png" alt="Áo">
            <p>ÁO</p>
        </a>
        <a href="pants.html" class="category-item">
            <img src="images/icon-quan.png" alt="QUẦN">
            <p>QUẦN</p>
        </a>
        <a href="skirts.html" class="category-item">
            <img src="images/icon-chanvay.png" alt="CHÂN VÁY">
            <p>CHÂN VÁY</p>
        </a>
        <a href="sale.html" class="category-item">
            <img src="images/icon-sale.png" alt="SALE">
            <p>SALE</p>
        </a>
        <a href="accessories.html" class="category-item">
            <img src="images/icon-phukien.png" alt="PHỤ KIỆN">
            <p>PHỤ KIỆN</p>
        </a>
    </section>

    <nav class="category-nav">
        <ul>
            <li><a href="new_collection.html">BST Mới</a></li>
            <li><a href="sale.html">SALE</a></li>
            <li><a href="featured.html">NỔI BẬT</a></li>
            <li><a href="bestsellers.html">BÁN CHẠY</a></li>
            <li><a href="hot_deals.html">HOT DEALS</a></li>
        </ul>
    </nav>
    
    <main class="product-section">
        <h2 class="section-title">SẢN PHẨM BÁN CHẠY</h2>
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Tìm kiếm sản phẩm...">
        </div>
        
        <div class="product-grid" id="productGrid">
            <div class="product-card">
                <img src="images/dam1.jpg" alt="ĐẦM">
                <h3 class="product-title">Đầm trễ vai nhẹ đính dây nổi bật</h3>
                <p class="price">875,000đ</p>
                <div class="rating">★★★★★ <span>(280 đã bán)</span></div>
                <button class="btn-add">Thêm vào giỏ</button>
            </div>
            <div class="product-card">
                <img src="images/dam2.jpg" alt="ĐẦM">
                <h3 class="product-title">Đầm mini đơn giản, thời trang cổ polo nữ Flirla, phù hợp cho mùa hè</h3>
                <p class="price">705,000đ</p>
                <div class="rating">★★★★★ <span>(790 đã bán)</span></div>
                <button class="btn-add">Thêm vào giỏ</button>
            </div>
            <div class="product-card">
                <img src="images/dam3.jpg" alt="ĐẦM">
                <h3 class="product-title">Váy đuôi cá in chấm bi, eo thun, vai trễ, dây buộc nơ bên hông</h3>
                <p class="price">205,000đ</p>
                <div class="rating">★★★★★ <span>(200 đã bán)</span></div>
                <button class="btn-add">Thêm vào giỏ</button>
            </div>
            <div class="product-card">
                <img src="images/dam4.jpg" alt="ĐẦM">
                <h3 class="product-title">Váy Đầm Ôm Cổ Dài Hè Nữ Không Tay Kiểu Đèn Lồng</h3>
                <p class="price">276,000đ</p>
                <div class="rating">★★★★★ <span>(200 đã bán)</span></div>
                <button class="btn-add">Thêm vào giỏ</button>
            </div>
            <div class="product-card">
                <img src="images/dam5.jpg" alt="ĐẦM">
                <h3 class="product-title">Váy mini tay bồng hở lưng in hoa Firerie, Váy mùa hè áo quần mùa xuân</h3>
                <p class="price">206,000đ</p>
                <div class="rating">★★★★★ <span>(3243 đã bán)</span></div>
                <button class="btn-add">Thêm vào giỏ</button>
            </div>
            <div class="product-card">
                <img src="images/ao1.jpg" alt="ÁO">
                <h3 class="product-title">Áo phông INAWLY nữ rộng rãi, cổ V ngắn tay, in kỹ thuật số</h3>
                <p class="price">138,000đ</p>
                <div class="rating">★★★★★ <span>(377 đã bán)</span></div>
                <button class="btn-add">Thêm vào giỏ</button>
            </div>
            <div class="product-card">
                <img src="images/tui1.jpg" alt="PHỤ KIỆN">
                <h3 class="product-title">FEISTURE 1 cái túi bóng chuyền PU nhiều túi màu sắc cho phụ nữ, túi đeo vai nách</h3>
                <p class="price">189.000đ</p>
                <div class="rating">★★★★★ <span>(3767 đã bán)</span></div>
                <button class="btn-add">Thêm vào giỏ</button>
            </div>
            <div class="product-card">
                <img src="images/chanvay1.jpg" alt="CHÂN VÁY">
                <h3 class="product-title">Chân váy mini xếp tầng nhún dễ thương màu đen nhung Comfortcana dành cho phụ nữ cho tiệc mùa đông</h3>
                <p class="price">299.000đ</p>
                <div class="rating">★★★★★ <span>(1337 đã bán)</span></div>
                <button class="btn-add">Thêm vào giỏ</button>
            </div>
        </div>
    </main>

    <div id="footer-container"></div>

    <script>
        // Load footer content dynamically
        fetch("footer.html")
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.text();
            })
            .then(data => {
                const footerContainer = document.getElementById("footer-container");
                if (footerContainer) {
                    footerContainer.innerHTML = data;
                }
            })
            .catch(error => console.error('Error loading footer:', error));

        // Wait for all content to be loaded before running scripts that access DOM elements
        document.addEventListener('DOMContentLoaded', () => {
            // Chức năng tìm kiếm
            const searchInput = document.getElementById('searchInput');
            const productCards = document.querySelectorAll('.product-card');

            if (searchInput) {
                searchInput.addEventListener('input', () => {
                    const keyword = searchInput.value.toLowerCase().trim();
                    productCards.forEach(card => {
                        const title = card.querySelector('.product-title').textContent.toLowerCase();
                        card.style.display = title.includes(keyword) ? '' : 'none';
                    });
                });
            }

            // Chức năng giỏ hàng
            document.querySelectorAll(".btn-add").forEach((button) => {
                button.addEventListener("click", () => {
                    const productCard = button.closest(".product-card");
                    const title = productCard.querySelector(".product-title").innerText;
                    const priceText = productCard.querySelector(".price").innerText;
                    const image = productCard.querySelector("img").getAttribute("src");

                    const price = parseInt(priceText.replace(/[^\d]/g, ""));
                    const newProduct = {
                        title,
                        price,
                        image,
                        quantity: 1
                    };

                    let cart = JSON.parse(localStorage.getItem("cart")) || [];
                    const existing = cart.find(p => p.title === title);

                    if (existing) {
                        existing.quantity += 1;
                    } else {
                        cart.push(newProduct);
                    }

                    localStorage.setItem("cart", JSON.stringify(cart));
                    alert("✅ Đã thêm vào giỏ!");
                });
            });
        });
    </script>
</body>
</html>